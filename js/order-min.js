"use strict";function selector(e){return document.querySelector(e)}function selectorAll(e){return document.querySelectorAll(e)}let elemList={order:{wrapperEl:selector(".order__col"),formList:selectorAll("form"),circlesList:selectorAll(".order__progress-circle"),buttonsList:selectorAll(".order__completed-button"),productWrapper:selector(".order-products")}};console.log(elemList.order);let setHeight=function(e){e=e||this.firstElementChild.offsetHeight+this.firstElementChild.lastElementChild.offsetHeight,this.style.maxHeight=e+"px"};function makeObj(e={formList:[],circleList:[],btnList:[]}){let t={};for(let r=0;r<e.formList.length;r++)t[r]={element:e.formList[r],descrEl:e.formList[r].firstElementChild.lastElementChild,button:e.formList[r].lastElementChild,elementHeight:e.formList[r].offsetHeight,circle:e.circleList[r],changeBtn:e.btnList[r],isActive:0==r};return Object.defineProperty(t,"length",{enumerable:!1,configurable:!1,writable:!1,value:e.formList.length}),Object.defineProperty(t,"lastPassed",{enumerable:!1,configurable:!1,writable:!0,value:0}),t}function catchEvents(e){let t=makeObj({formList:elemList.order.formList,circleList:elemList.order.circlesList,btnList:elemList.order.buttonsList});!function(){for(const e in t)t[e].button.addEventListener("click",function(){t.lastPassed=+e+1,console.log(t),+e<t.length-1&&(setHeight.call(t[e].element),t[e].descrEl.classList.add("order__completed_active"),t[e].circle.classList.remove("order__progress-circle_active"),t[e].isActive=!1,setHeight.call(t[+e+1].element,1e3),t[+e+1].circle.classList.add("order__progress-circle_active"),t[+e+1].isActive=!0)})}(),function(){for(const e in t)t[e].changeBtn.addEventListener("click",function(){t[e].isActive||(t[e].descrEl.classList.remove("order__completed_active"),setHeight.call(t[e].element,1e3),t[e].circle.classList.add("order__progress-circle_active"))}),t[e].circle.addEventListener("click",function(){+e<t.lastPassed&&(t[e].descrEl.classList.remove("order__completed_active"),setHeight.call(t[e].element,1e3),t[e].circle.classList.add("order__progress-circle_active"))})}(),e.addEventListener("click",function(e){var t,r;((e=e.target).classList.contains("order-products__remove-item")||e.closest(".order-products__remove-item"))&&(t=e.closest(".order-products__item"),r=500,t.style.opacity="0",setTimeout(()=>t.remove(),r)),e.classList.contains("order-products_btn_plus")&&(e.previousElementSibling.value=+e.previousElementSibling.value+1),e.classList.contains("order-products_btn_minus")&&(console.log(e.nextElementSibling.value),e.nextElementSibling.value="0"!==e.nextElementSibling.value?+e.nextElementSibling.value-1:0)})}console.log(makeObj({formList:elemList.order.formList,circleList:elemList.order.circlesList,btnList:elemList.order.buttonsList})),window.addEventListener("DOMContentLoaded",function(){elemList.order.circlesList[0].classList.add("order__progress-circle_active")}),catchEvents(elemList.order.productWrapper);